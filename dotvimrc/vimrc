" ----------------------------------------------------------------------------
" Project: dotvim
" Program: vimrc
" Purpose: Vim settings
" Version: 0.4.0
" Updated: Thu Dec 17 11:58:52 EST 2015
" Author:  Mauricio Caceres <mauricio.caceres.bravo@gmail.com>
" Inputs:
"       ~/.vim/undo
"       ~/.vim/spell
"       ~/.vim/session
"       ~/.vim/bundle
"       ~/Documents/projects/code/dotvim/dotvimrc/mappings.vim
"       ~/Documents/projects/code/dotvim/dotvimrc/fonts.vim
"       ~/Documents/projects/code/dotvim/dotvimrc/functions.vim
"       ~/Documents/projects/code/dotvim/dotvimrc/mycolors.vim
"       ~/Documents/projects/code/dotvim/dotvimrc/plugins.vim

" Startup: Load plug-ins {{{1
" ---------------------------

" Start NeoBundle or Vundle
filetype off
set nocompatible

" NeoBundle
" if has('vim_starting')
"     set nocompatible
"     set runtimepath+=~/.vim/bundle/neobundle.vim/
" endif
" call neobundle#begin(expand('~/.vim/bundle/'))
" NeoBundleFetch 'Shougo/neobundle.vim'
" NeoBundle 'Shougo/vimproc.vim', {
"             \ 'build' : {
"             \     'windows' : 'tools\\update-dll-mingw',
"             \     'cygwin' : 'make -f make_cygwin.mak',
"             \     'mac' : 'make -f make_mac.mak',
"             \     'linux' : 'make',
"             \     'unix' : 'gmake',
"             \    },
"             \ }

" Vundle
set runtimepath+=~/.vim/bundle/Vundle.vim
call vundle#begin()
Plugin 'gmarik/Vundle.vim'

" Bundles!

" Harmless and useful (simple)
Plugin 'tpope/vim-repeat',        {'name' : 'repeat'}
Plugin 'tpope/vim-surround',      {'name' : 'surround'}
Plugin 'tpope/vim-unimpaired',    {'name' : 'unimpaired'}
Plugin 'tpope/vim-speeddating',   {'name' : 'speeddating'}
Plugin 'tpope/vim-fugitive',      {'name' : 'fugitive'}
Plugin 'tpope/vim-characterize',  {'name' : 'characterize'}
Plugin 'tommcdo/vim-exchange',    {'name' : 'exchange'}
Plugin 'salsifis/vim-transpose',  {'name' : 'transpose'}
Plugin 'godlygeek/tabular',       {'name' : 'tabular'}
Plugin 'tomtom/tcomment_vim',     {'name' : 'tcomment'}

" Mostly harmless and useful (less simple)
Plugin 'ervandew/screen',         {'name' : 'screen'}
Plugin 'kien/ctrlp.vim',          {'name' : 'ctrlp'}
Plugin 'SirVer/ultisnips',        {'name' : 'ultisnips'}
Plugin 'honza/vim-snippets',      {'name' : 'snippets'}
Plugin 'gregsexton/gitv',         {'name' : 'gitv'}
Plugin 'airblade/vim-gitgutter',  {'name' : 'gitgutter'}
Plugin 'mbbill/undotree',         {'name' : 'undotree'}
Plugin 'scrooloose/nerdtree',     {'name' : 'nerdtree'}
Plugin 'Lokaltog/vim-easymotion', {'name' : 'easymotion'}
Plugin 'Shougo/neocomplete.vim',  {'name' : 'neocomplete'}

" Bling
Plugin 'bling/vim-airline',       {'name' : 'airline'}
Plugin 'flazz/vim-colorschemes',  {'name' : 'colorschemes'}
Plugin 'lilydjwg/colorizer',      {'name' : 'colorizer'}
Plugin 'mhinz/vim-startify',      {'name' : 'startify'}
" Plugin 'Yggdroot/indentLine'

" Language support
Plugin 'jcfaria/Vim-R-plugin',    {'name' : 'rplugin'}
Plugin 'LaTeX-Box-Team/LaTeX-Box',{'name' : 'latex-box'}
" Plugin 'jpitblado/vim-stata',     {'name' : 'stata'}
Plugin 'JuliaLang/julia-vim',     {'name' : 'julia'}
Plugin 'klen/python-mode',        {'name' : 'python-mode'}
" Plugin 'suan/vim-instant-markdown', {'name' : 'instant-markdown'}
" Plugin 'adimit/prolog.vim',       {'name' : 'prolog'}
Plugin 'file:///home/mauricio/Documents/projects/code/dotvim/bundle/latex-suite-abridged'

" Unite LOOKS veritably amazing but it is really slow
" Plugin 'Shougo/unite.vim',  {'name' : 'unite'}
" Plugin 'Shougo/neomru.vim', {'autoload' : {'unite_sources' : 'file_mru'}}
" Plugin 'osyo-manga/unite-airline_themes', {'autoload' :  {'unite_sources' : 'airline_themes'}}
" Plugin 'ujihisa/unite-colorscheme', {'autoload' :  {'unite_sources' : 'colorscheme'}}
" Plugin 'tsukkee/unite-tag', {'autoload' : {'unite_sources' : ['tag', 'tag/file']}}
" Plugin 'Shougo/unite-outline', {'autoload' : {'unite_sources' : 'outline'}}
" Plugin 'Shougo/unite-help', {'autoload' : {'unite_sources' : 'help'}}
" Plugin 'Shougo/junkfile.vim', {'autoload' : {'commands' : 'JunkfileOpen', 'unite_sources' : ['junkfile', 'junkfile/new']}}

" End bundling
" call neobundle#end()
call vundle#end()
filetype plugin indent on
syntax enable
" NeoBundleCheck

" Options: Vim options I like {{{1
" --------------------------------

" Essential: Some options to make Vim behave more sanely {{{2

set autoindent lazyredraw ruler showcmd number
set ignorecase smartcase smarttab
set autochdir autoread noswapfile
set wildmenu wildchar=<Tab>
set cryptmethod=blowfish2
set backspace=indent,eol,start
set winaltkeys=no

" Preferences: Some personal tweaks {{{2

" Map leaders
let maplocalleader = "\\"
let mapleader = ","

" Remove octal from nubmer formats
set nrformats-=octal

" Set up completion and dictionary
" set complete=.,w,b,u,t,i,d,k/home/mauricio/.vim/spell/en.utf-8.add

" Make sure we are doing utf8
if &encoding ==# 'latin1' && has('gui_running')
    set encoding=utf-8 ambiwidth=double
endif

" Remember more history
if &undoreload < 10000
    set undoreload=10000
endif
if &undolevels < 1000
    set undolevels=1000
endif
if &history < 100
    set history=1000
endif
if &tabpagemax < 50
    set tabpagemax=50
endif

" Use persistent undo
if has("persistent_undo")
    set undodir=$HOME/.vim/undo
    set undofile
endif

" Use par for hard-wrapping text (requires par)
if executable('par')
    set formatprg=par\ -w72req
endif

" Aesthetics: Personally preferred aesthetics {{{2

" Always show status line
" Cursor 4 lines off scrolling
" Minimal GUI
set laststatus=2 scrolloff=2 guioptions=aegtr

" Set all tabs to 4 characters, expand tabs to spaces
set tabstop=4 softtabstop=4 shiftwidth=4 expandtab

" Highlight search words
" Incremental search highlights
" Highlight current line
" Highlight textwidth column
set incsearch hlsearch cursorline colorcolumn=

" Set spelling, undercurl words not in dictionary
set spell
hi clear SpellBad
hi SpellBad cterm=underline ctermfg=red gui=undercurl

" Set soft wrap and soft-wrap toggle
" Set soft wrap hanging line character
set showbreak=\ \ 
set wrap linebreak nolist breakindent
command! -nargs=* Wrap set wrap linebreak nolist
command! -nargs=* Nowrap set nowrap nolinebreak

" Change grayness of comments of the fly, set it to 42
command! -nargs=1 Setgray hi Comment cterm=italic gui=italic guifg=grey<args>

" Source Files: mappings, fonts, options, etc. {{{1
"--------------------------------------------------

source $HOME/Documents/projects/code/dotvim/dotvimrc/mappings.vim
source $HOME/Documents/projects/code/dotvim/dotvimrc/fonts.vim
source $HOME/Documents/projects/code/dotvim/dotvimrc/functions.vim
source $HOME/Documents/projects/code/dotvim/dotvimrc/mycolors.vim
source $HOME/Documents/projects/code/dotvim/dotvimrc/plugins.vim

" Modelines: Fold this file {{{1
" vim: nowrap fdm=marker
" }}}
